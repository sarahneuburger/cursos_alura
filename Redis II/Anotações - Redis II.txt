Anotações - Redis II

* Armazenar dados em lista *
- LPUSH - left push - colocar na esquerda da lista de itens: 
	LPUSH ultimas_noticias "Nome tal, tal...";
- Com o LPUSH é possível vários registros de uma vez, basta: LPUSH ultimas_noticias 
	"Notícia 1..." "Notícia 2..." "Notícia 3...";
- RPUSH - right push - colocar na direita da lista;
- LTRIM - "aparar as pontas", remove os elementos não necessário, delimita o tamanho
	do array: LTRIM ultimas_noticias 0,2;
- LINDEX - traz a referência para determinada posição na lista: 
	LINDEX utlimas_noticias 0;
- LLEN - list length - tamanho da lista: LLEN ultimas_noticias;
- LRANGE - list range - trecho específico da lista: LRANGE ultimas_noticias 0 3 
	(da posição 0 até a 3);

* Elementos em uma fila *
- Colocar item em uma fila de espera, depois vem outro programa e puxa para execução;
- RPUSH - inserir registros na fila, cria uma lista: RPUSH "fila:confirmar-email" 
	"email@email.com";
- LPOP - remove um item de uma fila/lista. Remove o dado mais antigo (da esquerda).
	Remover e recuperar o primeiro elemento da fila: LPOP fila:confirma-emali;
- RPOP - remover e recuperar o último de uma lista: RPOP "fila:confirma-email";
- Uma utilização comum das filas, é quando desejamos executar tarefas em background, 
	para que o usuário não tenha que esperar a tarefa ser concluída e possa 
	realizar outras atividades de forma paralela. No caso de um sistema onde é 
	necessário confirmação por e-mail ou SMS, podemos executar esse envio em 
	segundo plano e a medida que usuários vão necessitando de confirmação vamos 
	armazenando-os em uma fila, onde o primeiro que chega é o primeiro que terá 
	sua solicitação atendida.
- Um outro exemplo de uso de fila, é um chat de atendimento, onde a medida que os 
	usuários precisam esperar os atendentes estarem disponíveis, eles são 
	colocados em uma fila.
- Busy waiting: o sistema fica esperando de forma ocupada, quando utilizado 
	constantemente o POP;
- Orientar para esperar chegar dados na fila;
- BLPOP - block left pop - bloquear para aguardar o registro: BLPOP fila:confirma-email 
	30 (em segundos que irá aguardar);
- Se um registro chegar durante esse tempo frisado acima, será atendido na fila. Caso
	o tempo estoure, retorna null;
- BLPOP com segundos em 0, fica aguardando por tempo indeterminado;
- Redis armazena em memória, não em disco;
 
*** Conjuntos ***
- SADD - set add - adicionar a um conjunto: SADD "relacionamentos" "nome";
- Podem incluir vários elementos de cada vez;
- Conjunto não itens repetidos;
- SCARD - set cardinal - quantos elementos tem no conjunto (em quantidade): 
	SCARD "relacionamentos";
- SMEMBERS - set members - quais são os elementos: SMEMBERS "relacionamentos";
- No conjunto, não necessariamente, os conjuntos ficam na ordem;
- SISMEMBER - is member - saber se há um elemento específico no conjunto: 
	SISMEMBER "relacionamentos" "nome";
- SREM - set remove - remover um elemento do conjunto: SREM "relacionamentos" "nome";
- SINTER - set intersection - verificar a intersecção entre dois conjuntos:
	SINTER "relacionamentos:um" "relacionamentos:dois";
- SDIFF - set differences - diferenças entre os conjuntos: SDIFF "relacionamentos:um" 
	"relacionamentos:dois";
- SUNION - set union - união entre conjuntos, retorna todos os elementos sem repetição:
	SUNION "relacionamentos:um" "relacionamentos:dois";

